"use strict";(self.webpackChunkgame_phone=self.webpackChunkgame_phone||[]).push([[7695],{67695:function(n,e,t){t.r(e),t.d(e,{default:function(){return j}});var i,a=t(74165),r=t(1413),o=t(15861),s=t(29439),c=t(54816),d=t(30168),l=t(83742),u=t(4279).ZP.div(i||(i=(0,d.Z)(["\n  .adm-tabs {\n    --active-line-border-radius: 5px;\n    --active-line-color: #fff;\n    --fixed-active-line-width: 137px;\n    --active-line-height: 6px;\n  }\n  .adm-tabs-header {\n    border: none;\n  }\n  .adm-tabs-header {\n    background-color: #0a0e1a;\n  }\n  .adm-tabs-tab {\n    font-size: 24px;\n    color: #b9b9b9;\n  }\n\n  .adm-tabs-tab-wrapper-stretch {\n    flex: 0;\n  }\n  .adm-tabs-tab-active {\n    color: #fff;\n  }\n  .content {\n    margin-top: 20px;\n\n    .item {\n      padding: 20px;\n      margin-bottom: 15px;\n      background-color: #0a0e1a;\n      border-radius: 20px;\n      .title {\n        font-size: 24px;\n        margin-bottom: 22px;\n        color: #6b96ff;\n      }\n      .thumb {\n        height: 285px;\n        border-radius: 10px;\n        overflow: hidden;\n        > img {\n          width: 100%;\n          height: 100%;\n        }\n      }\n      .full-img {\n        width: 100%;\n        height: 100%;\n      }\n      .text-content {\n        color: #fff;\n        .time {\n          padding: 0 5px;\n        }\n        .body {\n          margin: 0 10px;\n          padding: 10px;\n        }\n        .btn-box {\n          ","\n          padding: 10px 0;\n          > button {\n            ","\n            height: 60px;\n          }\n        }\n      }\n    }\n  }\n  .progress {\n    padding: 8px 4px;\n    .adm-progress-bar-text {\n      width: auto;\n    }\n  }\n"])),l.t$,l.RV),m=t(69896),p=t(30708),f=t(85672),x=t(54363),h=t.n(x),v=t(47929),b=t(72464),g=t(10549),y=t(42374),k=function(){var n,e=(0,c.useState)(0),t=(0,s.Z)(e,2),i=t[0],d=t[1],l=(0,c.useState)([]),x=(0,s.Z)(l,2),k=x[0],j=x[1],_=(0,v.s0)(),w=(0,b.Z)().playGamesLevelVerify,N=(0,g.CG)((function(n){return n.user.token})),Z=(0,b.Z)().showLoginVerify,Y=null===(n=(0,v.TH)().state)||void 0===n?void 0:n.activity_id;(0,p.Z)((0,o.Z)((0,a.Z)().mark((function n(){var e,t,i;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!N){n.next=6;break}return n.next=3,(0,f.BS)();case 3:n.t0=n.sent,n.next=9;break;case 6:return n.next=8,(0,f.RX)();case 8:n.t0=n.sent;case 9:(e=n.t0).activity=e.activity.filter((function(n){return![3,4,5].includes(n.type)&&!n.show_type})),t=e.activity.findIndex((function(n){return n.activity_id===Y})),i=e.activity.map((function(n,e){var i=!1;return i=t?e===t:0===e,(0,r.Z)({checked:i,nodeRef:(0,c.createRef)()},n)})),d(t),j(i);case 15:case"end":return n.stop()}}),n)})))),(0,c.useEffect)((function(){k.length>0&&Y&&setTimeout((function(){var n,e;window.scrollTo({top:(null===(n=k[i])||void 0===n||null===(e=n.nodeRef.current)||void 0===e?void 0:e.offsetTop)-60,behavior:"smooth"})}),0)}),[k,i]);var C=function(n,e){return function(){if(1===e.type&&e.game_id)w({gid:e.game_id,type:18===e.game_id?"h5":"app"});else{var t=k.slice(0).map((function(e,t){return e.checked=n===t&&!e.checked,e}));j(t),d(n)}}},R=function(n,e){n.stopPropagation(),1001!==(null===e||void 0===e?void 0:e.btn_type)?e.url&&window.open(e.url):Z()&&_("/top-up/recharge")},M=(0,c.useCallback)((function(n){var e,t;return Math.floor((null===n||void 0===n||null===(e=n.mission[0])||void 0===e?void 0:e.mission_progress)/(null===n||void 0===n||null===(t=n.mission[0])||void 0===t?void 0:t.condition_num)*100)}),[]);return(0,y.jsxs)(u,{children:[(0,y.jsx)(m.mQ,{defaultActiveKey:"all",children:(0,y.jsx)(m.mQ.Tab,{title:"All activities"},"all")}),(0,y.jsx)("div",{className:"content",children:k.map((function(n,e){return(0,y.jsxs)("div",{className:"item",ref:n.nodeRef,onClick:C(e,n),children:[(0,y.jsxs)("div",{className:"title",children:[n.title," "]}),n.checked?(0,y.jsxs)("div",{className:"detail",children:[(0,y.jsx)("img",{className:"full-img",src:n.img,alt:"",onClick:function(e){1!==(null===n||void 0===n?void 0:n.type)&&R(e,n)}}),1===n.type&&(0,y.jsxs)("div",{className:"text-content",children:[!!n.start_time&&(0,y.jsxs)("div",{className:"time",children:[h().unix(n.start_time).format("YYYY-MM-DD"),"-",h().unix(n.end_time).format("YYYY-MM-DD")]}),n.mission.length>0&&(0,y.jsx)("div",{className:"progress",children:(0,y.jsx)(m.ko,{percent:M(n),text:!0})}),(0,y.jsx)("div",{className:"body",children:n.body}),(0,y.jsx)("div",{className:"btn-box",children:(0,y.jsx)(m.zx,{color:"primary",onClick:function(e){return R(e,n)},children:n.btn_text})})]})]}):(0,y.jsx)("div",{className:"thumb",children:(0,y.jsx)("img",{src:n.thumb_img,alt:""})})]},n.activity_id)}))})]})},j=(0,c.memo)(k)}}]);