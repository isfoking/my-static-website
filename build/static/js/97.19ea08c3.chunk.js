"use strict";(self.webpackChunkgame_phone=self.webpackChunkgame_phone||[]).push([[97],{97:function(n,e,t){t.r(e),t.d(e,{default:function(){return L}});var i=t(74165),o=t(1413),r=t(15861),a=t(29439),s=t(52234);var c,l=t(30708),d=t(91186),u=t(54816),f=t(6774),h=t(30168),p=t(83742),w=t(4279).ZP.div(c||(c=(0,h.Z)(["\n  > .content {\n    width: 100vw;\n    height: 100vh;\n    /* transform: translate(0, -100%) rotate(90deg);\n    transform-origin: left bottom; */\n    .back-ad {\n      ","\n      font-size: 26px;\n      color: #fff;\n      position: relative;\n      width: 100%;\n      height: 80px;\n      background-color: #0a0e1a;\n      .back-icon {\n        top: 50%;\n        left: 10px;\n        width: 40px;\n        height: 40px;\n        position: absolute;\n        transform: translateY(-50%);\n        color: #fff;\n        fill: #fff;\n      }\n    }\n    .back-ad-h {\n      font-size: 13px;\n      height: 30px;\n      .back-icon {\n        width: 20px;\n        height: 20px;\n      }\n    }\n    #iframeRef {\n      width: 100%;\n      height: 100%;\n    }\n    .s-iframe {\n      height: calc(100% - 80px) !important;\n    }\n    .h-iframe {\n      height: calc(100% - 30px) !important;\n    }\n  }\n  .s-content {\n    width: 100vw;\n    height: 100vh;\n    transform: none;\n  }\n\n  .r-content {\n    transform: translate(-100%, 0) rotate(-90deg) !important;\n    transform-origin: right top !important;\n  }\n  .l-content {\n    transform: translate(0, -100%) rotate(90deg);\n    transform-origin: left bottom;\n  }\n\n  .recharge-wrapper {\n    position: fixed;\n    width: 100vw;\n    height: 100vh;\n    background-color: #03060c;\n    top: 0;\n    left: 0;\n    .adm-nav-bar-title {\n      color: #fff;\n    }\n  }\n"])),p.t$),m=t(47929),v=t(10549),g=t(54062),x=t(28695),y=t(97994),k=t(23058),Z=t(60742),b=t.n(Z),_=t(408),j=t(18466),C=t(62353),S=t(17843),N=t(15946),G=t(69896),T=t(67273),E=t(74605),H=t(40778),P=t(42374),z=[16],D=function(){var n,e,t=(0,v.TL)(),c=(0,m.s0)(),h=null===(n=(0,m.TH)().state)||void 0===n?void 0:n.id,p=(0,u.useState)(null),Z=(0,a.Z)(p,2),D=Z[0],L=Z[1],A=(0,u.useState)(!1),B=(0,a.Z)(A,2),O=B[0],W=B[1],F=(0,u.useState)((function(){return 0===window.orientation?"s":"h"})),I=(0,a.Z)(F,2),J=I[0],R=I[1],$=(0,v.CG)((function(n){return n.user.userInfo})),K=(0,v.CG)((function(n){return n.user.money})),M=(0,v.CG)((function(n){return n.user.server})),Y=(0,v.CG)((function(n){return n.user.autologin})),q=(0,v.CG)((function(n){return n.user.firstPay})),Q=(0,u.useState)(!1),U=(0,a.Z)(Q,2),V=U[0],X=U[1];return(0,l.Z)((0,r.Z)((0,i.Z)().mark((function n(){var e,r,a,l,d,u,p,w,m,v,Z;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i=h,s.Z.post({data:{api:100663364,gid:i}});case 3:e=n.sent,r=Date.now().toString().slice(0,16),a=(0,f.MD5)("key"+r),l=(0,T.Z)($,["vip_list"]),d=(0,o.Z)((0,o.Z)({},e),{},{appid:k.AF,user_info:l,url:window.location.origin,money:K,autologin:Y,firstPay:q,server:M,web_server:k._n}),u=(0,g.oj)(d,a),p=u.text,z.includes(+h)?(W(!0),m=window.innerWidth,v=window.innerHeight,w="".concat(k.HB,"?w=").concat(m,"&h=&").concat(v,"platform=phone&context=").concat(p,"&type=PlayGame&time=").concat(r,"&xxgamelayoutxx=1&encrypt=0")):w="".concat(k.HB,"?platform=phone&w=1024&h=720&context=").concat(p,"&type=PlayGame&time=").concat(r),e.game_url&&(w=e.game_url,W(!0)),t((0,x._s)(!0)),L(w),n.next=22;break;case 15:return n.prev=15,n.t0=n.catch(0),n.next=19,(0,H.ZN)();case 19:Z=n.sent,t((0,y.ID)(Z)),c(-1);case 22:case"end":return n.stop()}var i}),n,null,[[0,15]])})))),(0,d.Z)((function(){t((0,x._s)(!1)),t((0,y.CS)())})),(0,u.useEffect)((function(){var n=function(n){if(console.log(n.origin,"\u5b50\u9875\u9762\u6240\u5728\u7684\u57df"),console.log(n.data,"\u5b50\u9875\u9762\u53d1\u9001\u6765\u7684\u6570\u636e",n.data.type),"string"===typeof n.data){var e=JSON.parse(n.data)||{};if(1===(null===e||void 0===e?void 0:e.type)){var i=JSON.parse(e.param),o=(0,E.Z)(i,["vip_level","vip_exp","vip_up_exp"]);t((0,x.Di)(!1)),t((0,y.kP)()),t((0,y.gs)({user_info:o,money:{usable_money:i.current_money}})),G.u_.alert({header:(0,P.jsx)(_.Z,{style:{fontSize:64,color:"var(--adm-color-success)"}}),title:"Tips",confirmText:"OK",content:(0,P.jsx)("div",{children:"Anda telah mengisi ulang ke rekening ~"})})}2!==(null===e||void 0===e?void 0:e.type)&&18!==(null===e||void 0===e?void 0:e.type)||c(-1),null===e||void 0===e||e.type,4===(null===e||void 0===e?void 0:e.type)&&t((0,y.yB)()),19===(null===e||void 0===e?void 0:e.type)&&(X(!0),G.FN.show("Tolong isi ulang~"))}};return window.addEventListener("message",n,!1),function(){window.removeEventListener("message",n)}}),[t,c]),(0,u.useEffect)((function(){function n(){setTimeout((function(){0!==window.orientation&&180!==window.orientation||R("s"),90!==window.orientation&&-90!==window.orientation||R("h")}),300)}return window.addEventListener("onorientationchange"in window?"orientationchange":"resize",n,!1),function(){window.removeEventListener("onorientationchange"in window?"orientationchange":"resize",n)}}),[]),D?(0,P.jsxs)(w,{$isAdShow:O,children:[(0,P.jsxs)("div",{className:b()("content",{"l-content":!z.includes(+h)&&!O&&"s"===J,"r-content":z.includes(+h)&&"h"===J}),style:{width:"s"===J&&!O||z.includes(+h)&&"h"===J?window.innerHeight:window.innerWidth,height:"s"===J&&!O||z.includes(+h)&&"h"===J?window.innerWidth:window.innerHeight},children:[O&&(0,P.jsxs)("div",{className:b()("back-ad",{"back-ad-h":"h"===J}),onClick:function(){return c(-1)},children:[(0,P.jsx)(j.Z,{className:"back-icon"}),null===(e=S.dD[h])||void 0===e?void 0:e.name]}),(0,P.jsx)("iframe",{id:"iframeRef",className:b()({"s-iframe":"s"===J&&O},{"h-iframe":"h"===J&&O}),src:D,frameBorder:"0",title:"game"})]}),V&&(0,P.jsxs)("div",{className:"recharge-wrapper",children:[(0,P.jsx)(G.l2,{backArrow:(0,P.jsx)(C.Z,{color:"#fff",onClick:function(){return X(!1)}}),children:"Top-up"}),(0,P.jsx)(N.Z,{inner:!0})]})]}):null},L=(0,u.memo)(D)}}]);