"use strict";(self.webpackChunkgame_phone=self.webpackChunkgame_phone||[]).push([[8500],{78500:function(n,e,i){i.r(e),i.d(e,{default:function(){return _}});var t,r=i(74165),s=i(15861),o=i(29439),a=i(54816),c=i(30168),d=i(83742),l=i(4279).ZP.div(t||(t=(0,c.Z)(["\n  .green {\n    color: #04be02 !important;\n  }\n  .gameWrapper {\n    --color: #ffb400;\n    --bgColor: #7fa7f7;\n    --btnBgColor: #3e3d7d;\n    --progressBgColor: #335180;\n  }\n  .topupWrapper {\n    --color: #ffb400;\n    --bgColor: #149119;\n    --btnBgColor: #036d09;\n    --progressBgColor: #08540e;\n  }\n  .content {\n    padding: 23px 0 150px;\n    position: relative;\n    display: flex;\n    justify-content: space-between;\n\n    flex-wrap: wrap;\n    .item {\n      cursor: pointer;\n      color: #fff;\n      width: 100%;\n      height: 130px;\n      border-radius: 10px;\n      box-sizing: border-box;\n      padding: 12px 30px 10px 17px;\n      margin-bottom: 12px;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      background: var(--bgColor);\n      .left {\n        text-align: center;\n        width: 392px;\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        .progress {\n          flex-shrink: 0;\n          width: 392px;\n          height: 7px;\n          background: var(--progressBgColor);\n          .progress-inner {\n            width: 0;\n            height: 100%;\n            background: var(--color);\n          }\n        }\n        .condition {\n          padding-left: 20px;\n          color: #fdd100;\n        }\n      }\n      .middle {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        align-items: center;\n        .gold-coin-icon {\n          width: 54px;\n          height: 54px;\n        }\n      }\n      .right {\n        min-width: 154px;\n        text-align: center;\n        .duigou-icon {\n          fill: #dce0ff;\n          width: 44px;\n          height: 44px;\n        }\n        .btn {\n          width: 154px;\n          height: 58px;\n          line-height: 58px;\n          text-align: center;\n          border-radius: 5px;\n          background: var(--btnBgColor);\n        }\n        .btn.done {\n          background: #04be02;\n        }\n      }\n    }\n\n    .item.done {\n      background: #1d253d;\n    }\n  }\n  .footer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    .desc {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      color: #fff;\n      .tips-icon {\n        width: 30px;\n        height: 30px;\n        fill: #fff;\n        margin-right: 10px;\n      }\n    }\n    .btn-wrapper {\n      width: 100%;\n      height: 150px;\n      background-color: #1d253d;\n      display: flex;\n      > div {\n        flex: 1;\n        color: #fff;\n        ","\n      }\n      border-radius: 20px 20px 0px 0px;\n      overflow: hidden;\n      .left {\n        .fire-icon {\n          width: 43px;\n          height: 53px;\n          margin-right: 17px;\n          fill: #fff;\n        }\n      }\n      .right {\n        .rl-icon {\n          width: 45px;\n          height: 45px;\n          margin-right: 24px;\n          fill: #fff;\n        }\n      }\n      .left.active {\n        background: var(--bgColor);\n      }\n      .right.active {\n        background: var(--bgColor);\n      }\n    }\n  }\n"])),d.t$),p=i(69896),u=i(30708),f=i(85672),m=i(10549),g=i(60742),x=i.n(g),h=i(63667),b=i(78798),v=i(47929),w=i(42374),k=function(){var n,e=(0,a.useState)([]),i=(0,o.Z)(e,2),t=i[0],c=i[1],d=(0,a.useState)(null),g=(0,o.Z)(d,2),k=g[0],_=g[1],j=(0,a.useState)(3),Z=(0,o.Z)(j,2),N=Z[0],C=Z[1],y=(0,v.s0)(),B=(0,m.CG)((function(n){return n.user.token})),S=(0,u.Z)((0,s.Z)((0,r.Z)().mark((function n(){var e,i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!B){n.next=6;break}return n.next=3,(0,f.BS)();case 3:n.t0=n.sent,n.next=9;break;case 6:return n.next=8,(0,f.RX)();case 8:n.t0=n.sent;case 9:e=n.t0,i=e.activity.filter((function(n){return 5===n.type})),c(i);case 12:case"end":return n.stop()}}),n)})))).run;(0,u.Z)((0,s.Z)((0,r.Z)().mark((function n(){var e;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.length){n.next=2;break}return n.abrupt("return");case 2:(e=t.find((function(n){return n.mission_type===N}))).mission.forEach((function(n){[1,2].includes(n.mission_state)&&(n.mission_progress=n.condition_num)})),e.mission=e.mission.sort((function(n,e){return(2===n.mission_state?1:-1)-(2===e.mission_state?1:-1)})),_(e);case 6:case"end":return n.stop()}}),n)}))),{refreshDeps:[t,N]});var W=(0,u.Z)(function(){var n=(0,s.Z)((0,r.Z)().mark((function n(e){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e.mission_progress<e.condition_num&&1!==e.mission_state)){n.next=4;break}return 901===+e.mission_games&&(e.mission_games=6),3===N?y("/detail",{state:{id:e.mission_games}}):y("/top-up"),n.abrupt("return");case 4:return n.next=6,(0,f.HJ)(k.activity_id,e.mission_id);case 6:p.FN.show("Dapatkan sukses~"),S();case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),{manual:!0}),E=W.run;function A(n){return n.mission_progress<n.condition_num&&1!==n.mission_state?3===N?"Main":"Top Up":"Ambil"}return(0,w.jsx)(l,{children:(0,w.jsxs)("div",{className:x()("content",[1===N?"topupWrapper":"gameWrapper"]),children:[null===k||void 0===k||null===(n=k.mission)||void 0===n?void 0:n.map((function(n){var e;return(0,w.jsxs)("div",{className:x()("item",{done:2===n.mission_state},[1===N?"topup":"game"]),children:[(0,w.jsxs)("div",{className:"left",children:[(0,w.jsx)("div",{children:n.mission_title}),(0,w.jsx)("div",{className:"progress",children:(0,w.jsx)("div",{className:"progress-inner",style:{width:"".concat([1,2].includes(n.mission_state)?"100%":"".concat(n.mission_progress/n.condition_num*100,"%")," ")}})}),(0,w.jsxs)("div",{children:[(0,h.lb)(n.mission_progress),"/",(0,h.lb)(n.condition_num)]})]}),(0,w.jsxs)("div",{className:"middle",children:[(0,w.jsx)(b.Z,{className:"gold-coin-icon",original:!0,name:"gold-coin"}),(0,h.lb)(null===(e=n.award)||void 0===e?void 0:e.reduce((function(n,e){return n+e.num}),0))]}),(0,w.jsx)("div",{className:"right",children:2===n.mission_state?(0,w.jsx)(b.Z,{className:"duigou-icon",name:"duigou"}):(0,w.jsx)("div",{className:x()("btn",{done:1===n.mission_state}),onClick:function(){return E(n)},children:A(n)})})]},n.mission_id)})),(0,w.jsxs)("div",{className:"footer",children:[(0,w.jsxs)("div",{className:"desc",children:[(0,w.jsx)(b.Z,{name:"tips",className:"tips-icon"}),1===N?"Event ini diperbaharui setiap minggu":"Event ini diperbaharui setiap hari"]}),(0,w.jsxs)("div",{className:"btn-wrapper",children:[(0,w.jsxs)("div",{className:x()("left",{active:3===N}),onClick:function(){return C(3)},children:[(0,w.jsx)(b.Z,{className:"fire-icon",name:"fire"}),"Aktif Game"]}),(0,w.jsxs)("div",{className:x()("right",{active:1===N}),onClick:function(){return C(1)},children:[(0,w.jsx)(b.Z,{className:"rl-icon",name:"rl"}),"Check-in"]})]})]})]})})},_=(0,a.memo)(k)}}]);