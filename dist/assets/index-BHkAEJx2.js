import{r as e,j as s,u as t,t as a,s as r}from"./index-Bo-HP0-R.js";import{u as n,L as i}from"./userPlaceholder-BxP3GUaI.js";const l=()=>{const t=e.useRef(null);return e.useEffect(()=>{let e;if(t.current){const s=t.current,a=()=>{const t=document.createElement("div");t.classList.add("particle");const r=3*Math.random()+1;t.style.width=`${r}px`,t.style.height=`${r}px`,t.style.left=100*Math.random()+"%",t.style.top=100*Math.random()+"%";const n=20*Math.random()+10;t.style.animationDuration=`${n}s`,s.appendChild(t),e=setTimeout(()=>{t.remove(),a()},1e3*n)};for(let e=0;e<30;e++)a()}return()=>{clearTimeout(e)}},[]),s.jsx("div",{ref:t,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",overflow:"hidden"}})},o=e.memo(()=>{const[o,d]=e.useState(""),[c,m]=e.useState(""),u=t(),{run:h}=n(async()=>{if(!o||!c)return a.error("请填写用户名和密码"),Promise.reject()},{manual:!0,onSuccess:async()=>{const e=await i(o,c);if(!(null==e?void 0:e.id))return a.error("账号或密码错误");r.set("token",e.id),r.set("username",e.userName),u("/home")}});return s.jsxs("div",{className:"login-wrapper",children:[s.jsx(l,{}),s.jsx("div",{className:"scan-line"}),s.jsxs("div",{className:"login-container",children:[s.jsxs("div",{className:"login-header",children:[s.jsx("h1",{children:"设备管理系统"}),s.jsx("p",{children:"登录"})]}),s.jsxs("form",{children:[s.jsxs("div",{className:"input-group",children:[s.jsx("input",{type:"text",id:"adminName",placeholder:" ",value:o,onChange:e=>d(e.target.value),required:!0}),s.jsx("label",{htmlFor:"adminName",children:"用户名 / ID"})]}),s.jsxs("div",{className:"input-group",children:[s.jsx("input",{type:"password",id:"adminPassword",placeholder:" ",value:c,onChange:e=>m(e.target.value),required:!0}),s.jsx("label",{htmlFor:"adminPassword",children:"密码"})]}),s.jsxs("div",{className:"remember-forgot",children:[s.jsx("div",{className:"remember-me"}),s.jsx("div",{className:"forgot-password"})]}),s.jsx("button",{type:"button",id:"submit",className:"login-button",onClick:h,children:"登 录"}),s.jsx("div",{className:"signup-link"})]})]})]})});export{o as default};
